{% load staticfiles %}
<!DOCTYPE html>
<head>
    <!-- CSS -->
    <link href="{% static 'css/upload.css' %}" rel="stylesheet" />

    <!-- Jquery NEEDS to be unique for each app. Get new CND link here @ https://code.jquery.com/ -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- Alertify  -->
    <link type="text/css" href="{% static 'deps/alertify/alertify.js-0.3.11/themes/alertify.core.css' %}" rel="stylesheet" />
    <link type="text/css" href="{% static 'deps/alertify/alertify.js-0.3.11/themes/alertify.bootstrap.css' %}" rel="stylesheet" />
    <script src="{% static 'deps/alertify/alertify.js-0.3.11/lib/alertify.min.js' %}"></script>

</head>
<body>
<div id="upload_form">
<div id="spinner_div">
    <div><img id="spinner_img" src="{% static 'img/spinner.svg' %}"></div> <p/>
    <div id="spinner_text">Uploading Model...</div>
</div>
    <table id="upload_table">
        <tr>
            <td colspan="2" id="table_header"> EEMS Online Upload Form <div id="owner_div">Logged in as <span id="username">{{ username }}</span> | <a href='/logout'> Logout</a> | <a href='/admin'> Admin</a> | <a href="/">Back to EEMS Online</a></div></td>
        </tr>
        </tr>
        <tr>
        <tr>
            <td>Dataset <img class="upload_field_info_icon" src="{%  static '/img/info.png' %}" title="Can either be a NetCDF file with a .nc extension or a zipped FGDB containing a single feature class (e.g., eems_output.gdb.zip)"></td>
            <td>
                <form id="file_form" method="POST" enctype="multipart/form-data">
                <input id="data_file" name="file" type="file">
                <br>
            </td>
        </tr>
        <tr id="spatial_resolution_row">
            <td>Spatial Resolution <img class="upload_field_info_icon" src="{% static '/img/info.png' %}" title="Applicable only for FGDB feature class uploads. Used when converting the feature class to a NetCDF file. The units will match the units of the input dastaset's coordinate system. If a value is not provided, a default resolution of 1000 will be used."></td><td><input id="resolution" type="number"></td>
        </tr>
        <tr>
            <td>Command File <img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="Can either be an EEMS 2.0 command file with a .eem extension or an EEMS 3.0 command file with a .mpt extension"> </td>
            <td>
                <input id="command_file" name="file" type="file">
                </form>
            </td>
        </tr>
        <tr>
            <td>Model Name <img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="Enter in the name of the model"> </td><td><input id="model_name" type="text"></td>
        </tr>
        <tr>
            <td>Model Author <img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="Enter in the name of the model's author"> </td><td><input id="model_author" type="text"></td>
        </tr>
        <tr>
            <td>Creation Date <img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="Enter in the date the model was created"> </td><td><input id="creation_date" placeholder="dd/mm/yyyy" type="text"></td>
        </tr>
        <tr>
            <td>Project <img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="The project that this model is associated with. Double click in the text box to see a list of the current models."> </td><td>
            <input type="text" list="project_list" id="project"/>
            <datalist id="project_list" style="cursor:pointer">
                {%   for project in project_list %}
                        <option value={{ project }}> {{ project }}</option>
                {%  endfor  %}
            </datalist>
            </td>
        </tr>
        <tr>
            <td>Short Description<img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="Provide a short description of your model (max length = 300 characters)"> </td><td><textarea  maxlength="300" id="short_description"></textarea></td>
        </tr>
        <tr>
            <td>Long Description<img class="upload_field_info_icon" src="{% static 'img/info.png' %}" title="Provide a longer description of your model"> </td><td><textarea id="long_description"></textarea></td>
        </tr>
        <tr>
            <td colspan="2"> <input type="button" class="button" name="submit" value="submit" id="submit" /></td>
        </tr>
    </table>
</div>
<div id="upload_another_file_div">
    <div id="upload_another_file_button" class="big_button">Upload another EEMS Model</div>
    <br>
    <div id="go_to_eems_online_button" class="big_button">Go to EEMS Online</div>
    <br>
    <div id="logout_button" class="big_button">Logout</div>
</div>

    <!-- Upload function -->
    <script src="{% static 'js/upload.js' %}"></script>

</body>
</html>